% Actions

%  Action: Go
act(go(From, To),
[shakey(s), at(S, From), on(S,floor),binding(From, To)], % Is shakey at_ & on_ with loc connected
[at(S, From)], % Remove shakey(S) from "from-location"
[at(S, To)] % Place shakey(S) in to
).

%  Action: Push Box
act( pushBox(B, From, To), % Box B, From location, To location
[shakey(S), box(B),at(S, From), at(B, From), on(S, floor), binding(From, To)], % We have a Shakey & a Box, both at From, shakey is on the floor, rooms are connected.
[at(S, From), at(B,From)], % Remove form old location
[at(S, To), at(B, To)] % Place both in new location
).

%  Action: Climb Up Box
act( climbUp(B), % Any box needed
[shakey(S), box(B), on(S, floor), at(B, X), at(S, X)], % Shakey on floor, box and shakey in same room
[on(S, floor)], % Remove
[on(S, B)]                      % Place
).



goal_state([
lights(light1, off),
at(box2,room2)

]).


initial_state([

% Place shakey <3
shakey(s),
at(s,room3),
on(s,floor),

% Connect all rooms
binding(Room1, Corridor),
binding(Room2, Corridor),
binding(Room3, Corridor),
binding(Room4, Corridor),
binding(Room4, Corridor),
binding(Corridor, Room1),
binding(Corridor, Room2),
binding(Corridor, Room3),
binding(Corridor, Room4),


% Bind rooms to lightswitches
binding(Room4, Light4),
binding(Room3, Light3),
binding(Room2, Light2),
binding(Room1, Light1),
binding(Light4, Room4),
binding(Light3, Room3),
binding(Light2, Room2),
binding(Light1, Room1),

% Set light states - Doing reverse according to image
lights(light4, off),
lights(light3, on),
lights(light2, on),
lights(light1, off),

% Create blocks
box(box1),
box(box2),
box(box3),
box(box4),

% Place blocks n shit cuz this is fucking minecraft
at(box1, room1),
at(box2, room1),
at(box3, room1),
at(box4, room1)
]).
